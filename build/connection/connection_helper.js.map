{"version":3,"file":"connection_helper.js","sourceRoot":"","sources":["../../src/connection/connection_helper.ts"],"names":["ConnectionHelper","ConnectionHelper.constructor","ConnectionHelper.shutdown","ConnectionHelper.setupServer","ConnectionHelper.getNewSocket","ConnectionHelper.validateAndUpdateParams","ConnectionHelper.createServerCallback","ConnectionHelper.getSocketByConnecting","ConnectionHelper.createOneTimeServerAndHandleConnection","ConnectionHelper.createLastingServer","ConnectionHelper.createNewServer","ConnectionHelper.handleIncomingSocket","ConnectionHelper.killServer"],"mappings":"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"}